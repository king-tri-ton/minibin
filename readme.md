# MiniBin - Иконка корзины в системном трее для Windows

<a href="https://ibb.co/hxtQvfbG"><img src="https://i.ibb.co/HLkwQd6c/2025-08-24-175158.png" alt="2025-08-24-175158" border="0"></a>

## О проекте

**MiniBin** — это легковесная, но мощная утилита для Windows 10 и 11, которая добавляет иконку корзины в системный трей. Она не только показывает статус корзины, но и предоставляет набор "умных" функций для автоматизации очистки и быстрого восстановления файлов.

Эта утилита — идеальное решение для тех, кто ценит минимализм на рабочем столе и хочет расширить стандартные возможности корзины.

## Возможности

*   **Динамическая иконка и детальная подсказка**: Иконка меняется в зависимости от состояния корзины, а при наведении курсора показывает точное количество объектов и их общий размер.
*   **Гибкая настройка действий мыши**: Пользователь может сам выбрать, что будет происходить по двойному и среднему клику мыши: "Открыть корзину", "Очистить корзину" или "Ничего не делать".
*   **Продвинутая автоочистка**:
    *   **По размеру**: Автоматически очищает корзину, если ее размер превышает заданный лимит (например, 5 ГБ).
    *   **По возрасту**: Автоматически удаляет файлы, которые находятся в корзине дольше указанного срока (например, 30 дней).
    *   **Настраиваемый интервал**: Вы можете выбрать, как часто программа будет проверять условия для автоочистки (от 15 минут до 1 недели).
*   **Восстановление последнего объекта**: Одним кликом из меню можно восстановить последний перемещенный в корзину файл или папку.
*   **Встроенная автозагрузка**: Легко добавляется в автозагрузку Windows через контекстное меню (требуется запуск от имени администратора).
*   **Скрытие системной иконки**: Быстрый доступ к системным настройкам для скрытия стандартного значка корзины.
*   **Защита от повторного запуска**: Программа не позволит запустить вторую копию, избегая дублирования иконок в трее.

---

## Установка и Использование

### Для пользователей (рекомендуемый способ)

1.  Перейдите в раздел [Releases](https://github.com/kobaltgit/minibin/releases) этого репозитория.
2.  Скачайте ZIP-архив с последней версией (`minibin-vX.X.X.zip`).
3.  Распакуйте архив в любое удобное место и запустите `minibin.exe`.

### Примечание о работе антивирусов

Некоторые антивирусные программы (особенно работающие по эвристическим/поведенческим алгоритмам) могут выдать предупреждение при первом запуске программы или при сохранении настроек. Это называется **ложноположительным срабатыванием** и происходит по двум причинам:
1.  Приложение не подписано цифровым сертификатом (так как это бесплатный open-source проект).
2.  Программа сохраняет свои настройки в файл `settings.json`, что некоторые антивирусы могут счесть подозрительным поведением.

**Программа является полностью безопасной.** Исходный код полностью открыт для проверки в этом репозитории.

Вы можете самостоятельно убедиться в безопасности файла, проверив его на сайте **[VirusTotal](https://www.virustotal.com/)**, который анализирует файлы десятками антивирусных движков.

### Для разработчиков (из исходного кода)

**Требования:**
*   Python 3.8+
*   Git

**Пошаговая инструкция:**

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/kobaltgit/minibin.git
    cd minibin
    ```

2.  **Создайте и активируйте виртуальное окружение:**
    ```bash
    # Создаем окружение в папке 'venv'
    python -m venv venv
    
    # Активируем его (для Windows)
    venv\Scripts\activate
    ```

3.  **Установите зависимости:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Запустите приложение:**
    ```bash
    python app.py 
    ``` 

---

## Управление

*   **Двойной клик по иконке**: Настраиваемое действие (по умолчанию — Открыть корзину).
*   **Клик средней кнопкой мыши**: Настраиваемое действие (по умолчанию — Очистить корзину).
*   **Правый клик по иконке**:
    *   **Открыть корзину**: Открывает окно корзины.
    *   **Очистить корзину**: Очищает корзину.
    *   **Восстановить последнее**: Отменяет последнее перемещение объекта в корзину.
    *   **Настройки...**: Открывает окно для настройки автоочистки и действий мыши.
    *   **Добавить в автозагрузку**: Создает ярлык в системной папке автозагрузки (требуются права администратора).
    *   **Настройки значков рабочего стола**: Открывает системное окно, где можно скрыть стандартную иконку корзины.
    *   **Выход**: Закрывает приложение.

## Тестирование

Проект покрыт автоматическими тестами с использованием `pytest`. Для запуска тестов выполните команду из корневой папки проекта (с активированным виртуальным окружением):
```bash
python -m pytest
```

## Лицензия

Этот проект распространяется по лицензии [MIT](https://choosealicense.com/licenses/mit/).

---
*Оригинальная идея и иконки принадлежат [King Triton](https://github.com/king-tri-ton). Данный репозиторий является форком с существенными доработками и новыми функциями.*